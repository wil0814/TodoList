[{"/Users/william/todo-list/clinet/src/index.js":"1","/Users/william/todo-list/clinet/src/reportWebVitals.js":"2","/Users/william/todo-list/clinet/src/contexts.js":"3","/Users/william/todo-list/clinet/src/Router/App.js":"4","/Users/william/todo-list/clinet/src/View/Login.js":"5","/Users/william/todo-list/clinet/src/View/List.js":"6","/Users/william/todo-list/clinet/src/Model/utils.js":"7","/Users/william/todo-list/clinet/src/View/CreateUser.js":"8","/Users/william/todo-list/clinet/src/Router/ProtectedRoutes.js":"9","/Users/william/todo-list/clinet/src/Model/API.js":"10","/Users/william/todo-list/clinet/src/View/ChangeList.js":"11","/Users/william/todo-list/clinet/src/View/CreateTodo.js":"12"},{"size":497,"mtime":1667006193998,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1666436691652,"results":"15","hashOfConfig":"14"},{"size":87,"mtime":1666518622570,"results":"16","hashOfConfig":"14"},{"size":971,"mtime":1669101500173,"results":"17","hashOfConfig":"14"},{"size":3572,"mtime":1668943931634,"results":"18","hashOfConfig":"14"},{"size":3919,"mtime":1669210771412,"results":"19","hashOfConfig":"14"},{"size":203,"mtime":1666452574798,"results":"20","hashOfConfig":"14"},{"size":3603,"mtime":1669128893096,"results":"21","hashOfConfig":"14"},{"size":1204,"mtime":1668943931616,"results":"22","hashOfConfig":"14"},{"size":2953,"mtime":1669210691784,"results":"23","hashOfConfig":"14"},{"size":1533,"mtime":1669131439937,"results":"24","hashOfConfig":"14"},{"size":1478,"mtime":1669210649553,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"scb06o",{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"29"},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"29"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/william/todo-list/clinet/src/index.js",[],[],[],"/Users/william/todo-list/clinet/src/reportWebVitals.js",[],[],"/Users/william/todo-list/clinet/src/contexts.js",[],[],"/Users/william/todo-list/clinet/src/Router/App.js",["65","66","67","68","69","70"],[],"/Users/william/todo-list/clinet/src/View/Login.js",["71","72","73","74"],[],"import React, { useContext, useState } from 'react'\nimport { json, useNavigate, useLocation } from \"react-router-dom\";\nimport 'semantic-ui-css/semantic.min.css'\nimport { Message, Button, Form, Container, Grid, Header, Icon} from 'semantic-ui-react'\nimport { setAuthToken } from '../Model/utils'\nimport {getMe, login} from '../Model/API'\nimport { AuthContext } from '../contexts';\nconst Login = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"warning\");\n    const [errorMessage, setErrorMessage] = useState();\n    const {user, setUser} = useContext(AuthContext)\n    const history = useNavigate();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        login(username, password).then((data)=>{\n           if (data.ok === 0){\n            return setErrorMessage(data.message);\n           } \n           setAuthToken(data.token);\n           getMe()\n           .then((res)=>{\n            if(data.ok !== 1){\n                setAuthToken(null)\n                setErrorMessage(res.toString());\n            }\n            errorLogin();\n            return res;\n          }).then((res)=>{\n              console.log(\"login success: \"+res.success);\n              if(res.success === true){\n                setUser(true);\n                // localStorage.setItem('userIsLogin', 'true');\n                history(\"/list\");\n              }\n           });\n        });\n    };\n\n    const handleUsername = (e) => {\n        setUsername(e.target.value);\n    }\n\n    const handlePassword = (e) => {\n        setPassword(e.target.value);\n    }\n\n    const errorLogin = (e)=>{\n        setError(\"error\");\n    }\n\n    return (\n      <Container>\n          <Header as='h1' icon textAlign='center'>\n              <Icon name='user' circular/>\n              <Header.Content>Login todo-List</Header.Content>\n          </Header>\n          <Grid>\n            <Grid.Row centered>\n                <Grid.Column textAlign =\"center\"  width={8}>\n                  <Form className={error} onSubmit = {handleSubmit}>\n                    <Form.Input\n                      inline\n                      icon='user'\n                      iconPosition='left'\n                      label='Username'\n                      placeholder='Username'\n                      value={username}\n                      onChange={handleUsername}\n                    />\n                    <Form.Input\n                      inline\n                      icon='lock'\n                      iconPosition='left'\n                      label='Password'\n                      type='password'\n                      value={password}\n                      onChange={handlePassword}\n                    />\n                    <Message attached='bottom' warning>\n                      <Icon name='help' />\n                      已經註冊了嗎?&nbsp;<a href='/createUser'>請在此</a>&nbsp;申請帳號.\n                    </Message>\n                    <Message attached='bottom' error>\n                      <Message.Header>\n                        <Icon name='times circle outline' />\n                        帳號或密碼錯誤,請確認帳號密碼！\n                      </Message.Header>\n                      已經註冊了嗎?&nbsp;<a href='/createUser'>請在此</a>&nbsp;申請帳號.\n                    </Message>\n                    <Button content='Login' primary />\n                  </Form> \n                </Grid.Column>\n              </Grid.Row>\n            </Grid>\n      </Container>\n    )\n}\n\nexport default Login","/Users/william/todo-list/clinet/src/View/List.js",["75","76","77","78","79","80","81"],[],"/Users/william/todo-list/clinet/src/Model/utils.js",[],[],"/Users/william/todo-list/clinet/src/View/CreateUser.js",["82","83","84","85","86","87","88"],[],"/Users/william/todo-list/clinet/src/Router/ProtectedRoutes.js",["89","90","91"],[],"import { useContext, useEffect, useState } from 'react';\nimport {useLocation, Outlet, Navigate} from 'react-router-dom';\nimport { AuthContext } from '../contexts';\nimport {getMe} from '../Model/API'\nimport { getAuthToken } from '../Model/utils'\n\n\n\nconst ProtectedRoutes = () => {\n    const location = useLocation();\n    const [auth, setAuth] = useState(false);\n    const [isTokenValidated, setIsTokenValidated] = useState(false);\n    let token = getAuthToken();\n\n    useEffect(()=>{\n        let token = getAuthToken();\n        if(token){\n            getMe()\n            .then((json)=>{\n                if(json.success){\n                    setAuth(true);\n                }else{\n                    throw new Error(\"please log in\") \n                }\n            })\n            .catch((err) => {\n                setAuth(false);\n                localStorage.removeItem(\"token\");\n              })\n            .finally(() => setIsTokenValidated(true));\n        }else{\n            setIsTokenValidated(true);\n        }\n    },[])\n    if (!isTokenValidated) return <div>logining</div>;\n    return (auth ? <Outlet/> : <Navigate to='/login' replace state={{ from: location }} />);\n}\n\nexport default ProtectedRoutes","/Users/william/todo-list/clinet/src/Model/API.js",["92","93"],[],"/Users/william/todo-list/clinet/src/View/ChangeList.js",["94"],[],"/Users/william/todo-list/clinet/src/View/CreateTodo.js",[],[],{"ruleId":"95","severity":1,"message":"96","line":4,"column":20,"nodeType":"97","messageId":"98","endLine":4,"endColumn":29},{"ruleId":"95","severity":1,"message":"99","line":7,"column":8,"nodeType":"97","messageId":"98","endLine":7,"endColumn":25},{"ruleId":"95","severity":1,"message":"100","line":11,"column":10,"nodeType":"97","messageId":"98","endLine":11,"endColumn":16},{"ruleId":"95","severity":1,"message":"101","line":11,"column":18,"nodeType":"97","messageId":"98","endLine":11,"endColumn":24},{"ruleId":"95","severity":1,"message":"102","line":11,"column":26,"nodeType":"97","messageId":"98","endLine":11,"endColumn":31},{"ruleId":"95","severity":1,"message":"103","line":11,"column":33,"nodeType":"97","messageId":"98","endLine":11,"endColumn":38},{"ruleId":"95","severity":1,"message":"104","line":2,"column":10,"nodeType":"97","messageId":"98","endLine":2,"endColumn":14},{"ruleId":"95","severity":1,"message":"105","line":2,"column":29,"nodeType":"97","messageId":"98","endLine":2,"endColumn":40},{"ruleId":"95","severity":1,"message":"106","line":12,"column":12,"nodeType":"97","messageId":"98","endLine":12,"endColumn":24},{"ruleId":"95","severity":1,"message":"107","line":13,"column":12,"nodeType":"97","messageId":"98","endLine":13,"endColumn":16},{"ruleId":"95","severity":1,"message":"108","line":1,"column":17,"nodeType":"97","messageId":"98","endLine":1,"endColumn":27},{"ruleId":"95","severity":1,"message":"105","line":2,"column":10,"nodeType":"97","messageId":"98","endLine":2,"endColumn":21},{"ruleId":"95","severity":1,"message":"109","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":17},{"ruleId":"95","severity":1,"message":"110","line":3,"column":44,"nodeType":"97","messageId":"98","endLine":3,"endColumn":48},{"ruleId":"95","severity":1,"message":"111","line":3,"column":64,"nodeType":"97","messageId":"98","endLine":3,"endColumn":71},{"ruleId":"112","severity":1,"message":"113","line":25,"column":42,"nodeType":"114","messageId":"115","endLine":25,"endColumn":44},{"ruleId":"112","severity":1,"message":"113","line":35,"column":74,"nodeType":"114","messageId":"115","endLine":35,"endColumn":76},{"ruleId":"95","severity":1,"message":"108","line":1,"column":17,"nodeType":"97","messageId":"98","endLine":1,"endColumn":27},{"ruleId":"95","severity":1,"message":"116","line":5,"column":27,"nodeType":"97","messageId":"98","endLine":5,"endColumn":35},{"ruleId":"112","severity":1,"message":"113","line":35,"column":21,"nodeType":"114","messageId":"115","endLine":35,"endColumn":23},{"ruleId":"112","severity":1,"message":"117","line":35,"column":57,"nodeType":"114","messageId":"115","endLine":35,"endColumn":59},{"ruleId":"112","severity":1,"message":"113","line":38,"column":34,"nodeType":"114","messageId":"115","endLine":38,"endColumn":36},{"ruleId":"112","severity":1,"message":"113","line":62,"column":32,"nodeType":"114","messageId":"115","endLine":62,"endColumn":34},{"ruleId":"112","severity":1,"message":"113","line":63,"column":35,"nodeType":"114","messageId":"115","endLine":63,"endColumn":37},{"ruleId":"95","severity":1,"message":"108","line":1,"column":10,"nodeType":"97","messageId":"98","endLine":1,"endColumn":20},{"ruleId":"95","severity":1,"message":"118","line":3,"column":10,"nodeType":"97","messageId":"98","endLine":3,"endColumn":21},{"ruleId":"95","severity":1,"message":"119","line":13,"column":9,"nodeType":"97","messageId":"98","endLine":13,"endColumn":14},{"ruleId":"95","severity":1,"message":"104","line":1,"column":10,"nodeType":"97","messageId":"98","endLine":1,"endColumn":14},{"ruleId":"95","severity":1,"message":"120","line":2,"column":10,"nodeType":"97","messageId":"98","endLine":2,"endColumn":16},{"ruleId":"112","severity":1,"message":"113","line":16,"column":79,"nodeType":"114","messageId":"115","endLine":16,"endColumn":81},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'ModalExampleModal' is defined but never used.","'Button' is defined but never used.","'Header' is defined but never used.","'Image' is defined but never used.","'Modal' is defined but never used.","'json' is defined but never used.","'useLocation' is defined but never used.","'errorMessage' is assigned a value but never used.","'user' is assigned a value but never used.","'useContext' is defined but never used.","'Message' is defined but never used.","'Grid' is defined but never used.","'Segment' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'Checkbox' is defined but never used.","Expected '!==' and instead saw '!='.","'AuthContext' is defined but never used.","'token' is assigned a value but never used.","'Loader' is defined but never used."]